---
import Section from "@/layouts/Section.astro";
import { basics } from "@cv";
import LinkedIn from "@/icons/LinkedIn.astro";
import GitHub from "@/icons/GitHub.astro";
import X from "@/icons/X.astro";
import Phone from "@/icons/Phone.astro";
import Mail from "@/icons/Mail.astro";
import WorldMap from "@/icons/WorldMap.astro";

const { name, label, email, phone, location, image, profiles } = basics;
const { city, region } = location;
const SOCIAL_ICONS: Record<string, any> = {
  LinkedIn,
  GitHub,
  X,
};
---

<Section>
  <div
    class="flex flex-col lg:flex-row gap-8 lg:gap-12 items-start lg:items-center"
  >
    <div class="flex-1 space-y-4">
      <div class="space-y-2">
        <h1
          class="text-3xl lg:text-4xl xl:text-5xl font-bold text-gray-900 leading-tight"
        >
          {name}
        </h1>
        <h2
          class="text-lg lg:text-xl text-gray-600 font-medium leading-relaxed"
        >
          {label}
        </h2>
      </div>

      <div class="flex items-center gap-2 text-gray-500">
        <WorldMap />
        <span class="text-sm lg:text-base">{city}, {region}</span>
      </div>

      <div class="flex items-center gap-3 pt-2">
        {
          email && (
            <a
              href={`mailto:${email}`}
              title={`Enviar email a ${name}`}
              target="_blank"
              rel="noopener noreferrer"
              class="inline-flex items-center justify-center w-10 h-10 rounded-full bg-gray-100 hover:bg-gray-200 text-gray-600 hover:text-gray-800 transition-all duration-300 border border-gray-200 hover:border-gray-300"
            >
              <Mail />
            </a>
          )
        }
        {
          phone && (
            <a
              href={`tel:${phone}`}
              title={`Llamar a ${name}`}
              target="_blank"
              rel="noopener noreferrer"
              class="inline-flex items-center justify-center w-10 h-10 rounded-full bg-gray-100 hover:bg-gray-200 text-gray-600 hover:text-gray-800 transition-all duration-300 border border-gray-200 hover:border-gray-300"
            >
              <Phone />
            </a>
          )
        }
        {
          profiles.map(({ network, url }) => {
            const Icon = SOCIAL_ICONS[network];
            return (
              <a
                href={url}
                title={`Visitar perfil de ${name} en ${network}`}
                target="_blank"
                rel="noopener noreferrer"
                class="inline-flex items-center justify-center w-10 h-10 rounded-full bg-gray-100 hover:bg-gray-200 text-gray-600 hover:text-gray-800 transition-all duration-300 border border-gray-200 hover:border-gray-300"
              >
                <Icon />
              </a>
            );
          })
        }
      </div>
    </div>

    <div class="flex-shrink-0">
      <figure class="w-32 h-32 lg:w-40 lg:h-40 xl:w-44 xl:h-44">
        <img
          src={image}
          alt={`Foto de perfil de ${name}`}
          class="w-full h-full object-cover rounded-2xl shadow-lg ring-2 ring-gray-200"
        />
      </figure>
    </div>
  </div>
</Section>
